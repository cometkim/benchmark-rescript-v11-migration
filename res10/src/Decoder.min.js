"use strict";(()=>{var M=(g=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(g,{get:(v,a)=>(typeof require<"u"?require:v)[a]}):g)(function(g){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+g+'" is not supported')});var $=(g,v)=>()=>(v||g((v={exports:{}}).exports,v),v.exports);var en=$(nn=>{nn.timestampDecoder={type:-1,decode(g,v){let a=new DataView(g.buffer);switch(v){case 4:{let f=a.getUint32(0,!1)/1e3|0;return new Date(f)}case 8:{let U=a.getUint32(0),f=a.getUint32(4),t=U/4,w=((U&3)*2**32+f)*1e3+Math.round(t/1e6);return new Date(w)}case 12:throw new Error("timestamp96 is not supported yet");default:throw new Error(`invalid byteLength ${v}`)}}}});var On=$(E=>{var l=M("rescript/lib/js/js_exn.js"),p=M("rescript/lib/js/js_dict.js"),zn=M("rescript/lib/js/pervasives.js"),Bn=en(),tn=function(g,v){let a=0,U=v.length,f=[],t="";for(;a<U;){let A=v[a++];if(!(A&128))f.push(A);else if((A&224)===192){let w=v[a++]&63;f.push((A&31)<<6|w)}else if((A&240)===224){let w=v[a++]&63,m=v[a++]&63;f.push((A&31)<<12|w<<6|m)}else if((A&248)===240){let w=v[a++]&63,m=v[a++]&63,h=v[a++]&63,T=(A&7)<<18|w<<12|m<<6|h;T>65535&&(T-=65536,f.push(T>>>10&1023|55296),T=56320|T&1023),f.push(T)}else f.push(A);f.length>=4096&&(t+=String.fromCharCode(...f),f.length=0)}return f.length>0&&(t+=String.fromCharCode(...f)),t},Hn={decode2:tn},an=function(g){let v=1;for(let a=7;a>=0;a--){let U=(g[a]^255)+v;g[a]=U&255,v=U>>8}},S=Bn.timestampDecoder;function Kn(g){var v=new TextDecoder,a=p.fromArray(g);return{textDecoder:v,extensions:a}}function Nn(g,v){var a=g.extensions,U=g.textDecoder,f=v.slice(),t=new DataView(f.buffer),A=function(T,e,i){for(;;){var d=i,x=e;if(typeof x=="number"){var G=t.getUint8(d),n=d+1|0;if(G<128){i=n,e={TAG:5,_0:G};continue}if(G<144){var vn=G&15;i=n,e={TAG:2,_0:vn,_1:{}};continue}if(G<160){var b=G&15;i=n,e={TAG:1,_0:b,_1:new Array(b)};continue}if(G<192){var fn=G&31;i=n,e={TAG:0,_0:fn};continue}switch(G){case 192:i=n,e={TAG:5,_0:null};continue;case 193:break;case 194:i=n,e={TAG:5,_0:!1};continue;case 195:i=n,e={TAG:5,_0:!0};continue;case 196:var gn=t.getUint8(n);i=n+1|0,e={TAG:3,_0:gn};continue;case 197:var An=t.getUint16(n);i=n+2|0,e={TAG:3,_0:An};continue;case 198:var Tn=t.getUint32(n);i=n+4|0,e={TAG:3,_0:Tn};continue;case 199:var F=t.getUint8(n),I=t.getInt8(n+1|0);if(I===S.type){i=n+2|0,e={TAG:4,_0:F,_1:S};continue}var J=p.get(a,String(I));if(J===void 0)return l.raiseError("Unknown extension type "+String(I));i=n+2|0,e={TAG:4,_0:F,_1:J};continue;case 200:var dn=t.getUint16(n),L=t.getInt8(n+2|0),V=p.get(a,String(L));if(V===void 0)return l.raiseError("Unknown extension type "+String(L));i=n+2|0,e={TAG:4,_0:dn,_1:V};continue;case 201:var Gn=t.getUint32(n),P=t.getInt8(n+4|0),j=p.get(a,String(P));if(j===void 0)return l.raiseError("Unknown extension type "+String(P));i=n+4|0,e={TAG:4,_0:Gn,_1:j};continue;case 202:var xn=t.getFloat32(n);i=n+4|0,e={TAG:5,_0:xn};continue;case 203:var ln=t.getFloat64(n);i=n+8|0,e={TAG:5,_0:ln};continue;case 204:var Un=t.getUint8(n);i=n+1|0,e={TAG:5,_0:Un};continue;case 205:var wn=t.getUint16(n);i=n+2|0,e={TAG:5,_0:wn};continue;case 206:var pn=t.getUint32(n);i=n+4|0,e={TAG:5,_0:pn};continue;case 207:var Sn=t.getUint32(n),mn=t.getUint32(n+4|0),En=Sn*Math.pow(256,4)+mn;i=n+8|0,e={TAG:5,_0:En};continue;case 208:var hn=t.getInt8(n);i=n+1|0,e={TAG:5,_0:hn};continue;case 209:var Dn=t.getInt16(n);i=n+2|0,e={TAG:5,_0:Dn};continue;case 210:var In=t.getInt32(n);i=n+4|0,e={TAG:5,_0:In};continue;case 211:an(T.subarray(n,n+9|0));var kn=t.getUint32(n),on=t.getUint32(n+4|0),cn=kn*Math.pow(256,4)+on;i=n+8|0,e={TAG:5,_0:0-cn};continue;case 212:var z=t.getInt8(n),B=p.get(a,String(z));if(B===void 0)return l.raiseError("Unknown extension type "+String(z));i=n+1|0,e={TAG:4,_0:1,_1:B};continue;case 213:var H=t.getInt8(n),K=p.get(a,String(H));if(K===void 0)return l.raiseError("Unknown extension type "+String(H));i=n+1|0,e={TAG:4,_0:2,_1:K};continue;case 214:var k=t.getInt8(n);if(k===S.type){i=n+1|0,e={TAG:4,_0:4,_1:S};continue}var N=p.get(a,String(k));if(N===void 0)return l.raiseError("Unknown extension type "+String(k));i=n+1|0,e={TAG:4,_0:4,_1:N};continue;case 215:var o=t.getInt8(n);if(o===S.type){i=n+1|0,e={TAG:4,_0:8,_1:S};continue}var O=p.get(a,String(o));if(O===void 0)return l.raiseError("Unknown extension type "+String(o));i=n+1|0,e={TAG:4,_0:8,_1:O};continue;case 216:var Q=t.getInt8(n),R=p.get(a,String(Q));if(R===void 0)return l.raiseError("Unknown extension type "+String(Q));i=n+1|0,e={TAG:4,_0:16,_1:R};continue;case 217:var qn=t.getUint8(n);i=n+1|0,e={TAG:0,_0:qn};continue;case 218:var Cn=t.getUint16(n);i=n+2|0,e={TAG:0,_0:Cn};continue;case 219:var yn=t.getUint32(n);i=n+4|0,e={TAG:0,_0:yn};continue;case 220:var W=t.getUint16(n);i=n+2|0,e={TAG:1,_0:W,_1:new Array(W)};continue;case 221:var X=t.getUint32(n);i=n+4|0,e={TAG:1,_0:X,_1:new Array(X)};continue;case 222:var Mn=t.getUint16(n);i=n+2|0,e={TAG:2,_0:Mn,_1:{}};continue;case 223:var bn=t.getUint32(n);i=n+4|0,e={TAG:2,_0:bn,_1:{}};continue;default:}if(G>=256)return l.raiseError("Unknown header "+String(G));var Fn=zn.lnot(G^255);i=n,e={TAG:5,_0:Fn};continue}switch(x.TAG|0){case 0:var Y=x._0,Jn=T.subarray(d,d+Y|0),Ln=tn(U,Jn);i=d+Y|0,e={TAG:5,_0:Ln};continue;case 1:var D=x._1,c=x._0;if(c!==0){var Z=A(T,0,d),Vn=D.length-c|0;D[Vn]=Z[0],i=Z[1],e={TAG:1,_0:c-1|0,_1:D};continue}e={TAG:5,_0:D};continue;case 2:var q=x._1,_=x._0;if(_!==0){var u=A(T,0,d),C=u[0];if(typeof C!="string")return l.raiseError("Unexpected key type. Expected string, but got "+typeof C);var r=A(T,0,u[1]);q[C]=r[0],i=r[1],e={TAG:2,_0:_-1|0,_1:q};continue}e={TAG:5,_0:q};continue;case 3:var s=x._0,Pn=T.slice(d,d+s|0);i=d+s|0,e={TAG:5,_0:Pn};continue;case 4:var y=x._0,jn=T.slice(d,d+y|0);i=d+y|0,e={TAG:5,_0:x._1.decode(jn,y)};continue;case 5:return[x._0,d]}}},w=A(f,0,0),m=w[1],h=f.length;return h!==m&&l.raiseError("Invalid input length, expected "+String(h)+", but got "+String(m)),w[0]}E.$$TextDecoder=Hn;E.flip64=an;E.timestampExt=S;E.make=Kn;E.decode=Nn});On();})();
